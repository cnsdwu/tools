<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>必应每日图片</title>
	<meta name="Keywords" content="必应,图片">
    <meta name="description" content="获取必应每日图片">
	<link rel="stylesheet" href="css/zui.min.css">
	<script src="js/jquery-3.3.1.js"></script>
	<script src="js/zui.min.js"></script>
	<script src="js/clipboard.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-inverse" role="navigation">
		<div class="container-fluid">
	    	<!-- 导航头部 -->
	    	<div class="navbar-header">
	    	  	<!-- 移动设备上的导航切换按钮 -->
	    	  	<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-example">
	    	  	  	<span class="sr-only"></span>
	    	  	  	<span class="icon-bar"></span>
	    	  	  	<span class="icon-bar"></span>
	    	  	  	<span class="icon-bar"></span>
	    	  	</button>
	    	  	<a class="navbar-brand" href="javascript:;">
	    	  		<i class="icon icon-leaf"></i>
	    	  	</a>
	    	</div>
	    	<!-- 导航项目 -->
	    	<div class="collapse navbar-collapse navbar-collapse-example">
	    	  	<!-- 一般导航项目 -->
	    	  	<ul class="nav navbar-nav">
	    	  	  	<li class="active"><a href="/">首页</a></li>
	    	  	</ul>
	    	  	<!-- 右侧的导航项目 -->
		      	<ul class="nav navbar-nav navbar-right">
		      	  	<li class="dropdown">
			          	<a href="your/nice/url" class="dropdown-toggle" data-toggle="dropdown">管理<b class="caret"></b></a>
			          	<ul class="dropdown-menu" role="menu">
			            	<li><a href="/token.html">申请token</a></li>
			          </ul>
			        </li>
		      	</ul>
	    	</div>
	  	</div>
	</nav>
	<div class="container">
		<div class="row">
			<div class="col-md-4">
				<div class="panel panel-primary">
				  	<div class="panel-heading text-center">
				  		获取url方式请求
				  	</div>
				  	<div class="panel-body text-center">
				    	<img id="urlImg" data-toggle="lightbox" src="images/loading.gif" data-image="index.php?action=img&token=a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e" data-caption="获取url方式请求" class="img-thumbnail" alt="">
				  	</div>
				  	<div class="panel-footer text-center">
				  	  	<button id="btnUrl" type="button" class="btn btn-primary" data-loading-text="请求中...">请求图片</button>
				  	</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="panel panel-primary">
				  	<div class="panel-heading text-center">
				  		获取base64方式请求
				  	</div>
				  	<div class="panel-body text-center">
				    	<img id="base64Img" data-toggle="lightbox" src="images/loading.gif" data-image="index.php?action=img&token=a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e" data-caption="获取base64方式请求" class="img-thumbnail" alt="">
				  	</div>
				  	<div class="panel-footer text-center">
				    	<button id="btnBase64" type="button" class="btn btn-primary" data-loading-text="请求中...">请求图片</button>
				  	</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="panel panel-primary">
				  	<div class="panel-heading text-center">
				  		直接获取图片方式
				  	</div>
				  	<div class="panel-body text-center">
				    	<img id="imgImg" data-toggle="lightbox" src="images/loading.gif" data-image="index.php?action=img&token=a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e" data-caption="直接获取图片方式" class="img-thumbnail" alt="">
				  	</div>
				  	<div class="panel-footer text-center">
				    	<button id="btnImg" type="button" class="btn btn-primary" data-loading-text="请求中...">请求图片</button>
				  	</div>
				</div>
			</div>
		</div>
		<hr>
		<div class="row">
			<div class="panel-group" id="accordionPanels" aria-multiselectable="true">
				<div class="panel panel-default">
				    <div class="panel-heading" id="headingTwo">
				      	<h4 class="panel-title">
				      	  <span class="collapsed" data-toggle="collapse" data-parent="#accordionPanels" href="#collapseTwo">
				        	查看API调用方法
				        	</span>
				      	</h4>
				    </div>
				    <div id="collapseTwo" class="panel-collapse collapse">
				      	<div class="panel-body">
					      	<ul class="list-group">
							  	<li class="list-group-item">接口说明：获取必应首页每日图片</li>
							  	<li class="list-group-item">接口地址：http://api.wwzc.cc/bing/index.php
							  		<a id="copyUrl" class="icon icon-copy" data-toggle="tooltip" title="点击接口地圵复制" data-clipboard-text="http://api.wwzc.cc/bing/index.php"></a>
							  		(支持https)
								</li>
							  	<li class="list-group-item">返回格式：json/image</li>
							  	<li class="list-group-item">请求方式：GET/POST</li>
							</ul>
							<h3>请求参数</h3>
							<table class="table table-hover">
							  	<thead>
							  	  <tr>
							  	    	<th>参数名称</th>
							  	    	<th>类型</th>
							  	    	<th>示例值</th>
							  	    	<th>必须</th>
							  	    	<th>描述</th>
							  	  </tr>
							  	</thead>
							  	<tbody>
							  	  <tr>
							  	    	<td>token</td>
							  	    	<td>string</td>
							  	    	<td  style="word-wrap:break-word;word-break:break-all;">a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e</td>
							  	    	<td>是</td>
							  	    	<td>验证字段，可直接申请</td>
							  	  </tr>
							  	  <tr>
							  	    	<td>action</td>
							  	    	<td>string</td>
							  	    	<td>base64</td>
							  	    	<td>否</td>
							  	    	<td>url：必应url地址(json)，base64：图片base64数据(json)，img：图片(image)，默认：img</td>
							    		</tr>
							  	</tbody>
							</table>
							<h3>返回参数</h3>
							<table class="table table-hover">
							  	<thead>
							  	  	<tr>
							  	  	  	<th>名称</th>
							  	  	  	<th>类型</th>
							  	  	  	<th>示例值</th>
							  	  	  	<th>描述</th>
							  	  	</tr>
							  	</thead>
							  	<tbody>
							  	  	<tr>
							  	    	<td>status</td>
							  	    	<td>int</td>
							  	    	<td>1</td>
							  	    	<td>结果，1：成功，0：失败</td>
							  	  	</tr>
							  	  	<tr>
							  	    	<td>code</td>
							  	    	<td>int</td>
							  	    	<td>1</td>
							  	    	<td>错误代码，0：没有错误，1：程序异常，2：解密非加密文本，3：参数异常，4：token错误，5：每日调用次数上限，6：邮件发送失败，7：验证码错误，8：邮箱不合法，9：内容过长</td>
							    	</tr>
							    	<tr>
							    	  <td>message</td>
							    	  	<td>string</td>
							    	  	<td>参数异常</td>
							    	  	<td>提示信息</td>
							    	</tr>
							    	<tr>
							    	  	<td>value</td>
							    	  	<td>string</td>
							    	  	<td></td>
							    	  	<td>需要返回的数据</td>
							    	</tr>
							  	</tbody>
							  	<tfoot>
							  		<tr>
							  			<td>返回主体</td>
							  			<td>string/image</td>
							  			<td style="word-wrap:break-word;word-break:break-all;">{"status":1,"code":0,"message":"成功","value":"http://cn.bing.com/az/hprichbg/rb/DUAN_ZH-CN9451316695_1920x1080.jpg"}</td>
							  			<td>返回主体，图片或json格式字符串</td>
							  		</tr>
							  </tfoot>
							</table>
						</div>
				    </div>
				  </div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$('#btnUrl').on('click', function() {
			var $btn = $(this);
			$btn.button('loading');
			$.post('index.php', {
				action: 'url',
				token: 'a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e',
			}, function(data, status){
				$btn.button('reset');
				if(status == 'success'){
					$result = JSON.parse(data);
					if($result.status == 1){
						$('#urlImg').attr('src', $result.value);
						successMessage.show('请求成功');
					}else{
						errorMessage.show('请求失败：'+$result.message);
					}
				}
			});
		});
		$('#btnBase64').on('click', function() {
			var $btn = $(this);
			$btn.button('loading');
			$.post('index.php', {
				action: 'base64',
				token: 'a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e',
			}, function(data, status){
				$btn.button('reset');
				if(status == 'success'){
					$result = JSON.parse(data);
					if($result.status == 1){
						$('#base64Img').attr('src', $result.value);
						successMessage.show('请求成功');
					}else{
						errorMessage.show('请求失败：'+$result.message);
					}
				}
			});
		});
		$('#btnImg').on('click', function() {
			var $btn = $(this);
			$btn.button('loading');
			$('#imgImg').attr('src', 'index.php?action=img&token=a6819d21b4433e333eca5357d92e2496ee0a1e2b1fe2351e0275d45b11ba116e');
			setTimeout(function(){
				$btn.button('reset');
				successMessage.show('请求成功');
			}, 1000);
		});
		// 复制url
		var clipboard = new ClipboardJS('#copyUrl');
		// 复制url成功
		clipboard.on('success', function(e) {
		    $('[data-toggle="tooltip"]').tooltip('show', '复制成功');
		});
		// 复制url失败
		clipboard.on('error', function(e) {
		    $('[data-toggle="tooltip"]').tooltip('show', '复制失败');
		});
		// 设置复制url
		$('[data-toggle="tooltip"]').tooltip();
		// 成功消息框
		successMessage = new $.zui.Messager({
								icon: 'ok-sign', // 图标
	    						placement: 'bottom', // 定义显示位置
							    type: 'success', // 定义颜色主题
							    close: false, // 自动关闭
							    time: 2000, // 关闭时间
							});
		// 失败消息框
		errorMessage = new $.zui.Messager({
							icon: 'exclamation-sign', // 同上
    						placement: 'bottom',
						    type: 'danger',
						    close: false,
						    time: 2000,
						});
	</script>
</body>
</html>